// schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url = env("POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
  relationMode = "prisma"
}

model InterviewExp {
  id  String  @id @default(uuid())  
  name  String
  rollno  String
  email String  
  phone String
  company String
  package String
  desc  String
  link Link[] @relation("InterviewExpToLink")
  rating  Int
}

model ClassNotes{
  id String @id @default(uuid())
  subject String
  download  Link[]  @relation("ClassNotesToLink")
}

model Coding{
  id String @id @default(uuid())
  topic String
  desc  String
  link  Link[]  @relation("CodingToLink")  
}

model Resources{
  id  String  @id @default(uuid())
  topic String
  link  Link[]  @relation("ResourcesToLink")
}

model Events{
  id  String @id  @default(uuid())
  regLink String
  link Link[] @relation("EventsToLink")
  desc  String
}

model CompetitiveExam{
  id  String  @id @default(uuid())
  name  String
  desc  String
  link  Link[]  @relation("CompetitiveExamToLink")
}

model Link{
  id  String  @id @default(uuid())
  name  String
  link  String
  codingId  String?
  coding  Coding?  @relation("CodingToLink", fields: [codingId], references: [id])
  resourcesId String?
  resources Resources? @relation("ResourcesToLink", fields: [resourcesId], references: [id])
  competitiveExamId String?
  competitiveExam CompetitiveExam? @relation("CompetitiveExamToLink", fields: [competitiveExamId], references: [id])
  classNotesId String?
  classNotes ClassNotes? @relation("ClassNotesToLink", fields: [classNotesId], references: [id])
  eventId String?
  events Events? @relation("EventsToLink", fields: [eventId], references: [id])
  interviewExpId String?
  interviewExp InterviewExp? @relation("InterviewExpToLink", fields: [interviewExpId], references: [id])


  @@index([codingId])
  @@index([resourcesId])
  @@index([competitiveExamId])
  @@index([classNotesId])
  @@index([eventId])
  @@index([interviewExpId])
}
